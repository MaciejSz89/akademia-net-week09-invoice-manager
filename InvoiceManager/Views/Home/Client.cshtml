@using InvoiceManager.Models.Domains

@model Client

@{
    ViewBag.Title = ViewBag.Heading;
}

<h2 class="mb-3">@ViewBag.Heading</h2>


<div class="row">
    <div class="col-lg-6">
        @using (Html.BeginForm("Client", "Home", FormMethod.Post, new { id = "client-form" }))
        {
            @Html.AntiForgeryToken()

            if (Model.Id == 0)
            {
                <p class="alert alert-info mt-4 mb-4">
                    Pola nazwa, ulica, numer, kod pocztowy, miasto oraz email są <strong>wymagane</strong>
                </p>
            }

            @Html.HiddenFor(x => x.Id)
            @Html.HiddenFor(x => x.UserId)
            if (Model.Id != 0)
            {
                @Html.HiddenFor(x => x.AddressId);
                @Html.HiddenFor(x => x.Address.Id);
            }
            

            <div class="form-group">
                @Html.LabelFor(x => x.Name)
                @Html.TextBoxFor(x => x.Name,
                    new
                         {
                             @class = "form-control",
                            autofocus = "autofocus"
                         })
                @Html.ValidationMessageFor(x => x.Name)
            </div>

            <div class="form-group">
                @Html.LabelFor(x => x.Address.Street)
                @Html.TextBoxFor(x => x.Address.Street,
                    new
                         {
                             @class = "form-control"
                         })
                @Html.ValidationMessageFor(x => x.Address.Street)
            </div>

            <div class="form-group">
                @Html.LabelFor(x => x.Address.Number)
                @Html.TextBoxFor(x => x.Address.Number,
                    new
                         {
                             @class = "form-control"
                         })
                @Html.ValidationMessageFor(x => x.Address.Number)
            </div>

            <div class="form-group">
                @Html.LabelFor(x => x.Address.City)
                @Html.TextBoxFor(x => x.Address.City,
                    new
                         {
                             @class = "form-control"
                         })
                @Html.ValidationMessageFor(x => x.Address.City)
            </div>

            <div class="form-group">
                @Html.LabelFor(x => x.Address.PostalCode)
                @Html.TextBoxFor(x => x.Address.PostalCode,
                    new
                         {
                             @class = "form-control"
                         })
                @Html.ValidationMessageFor(x => x.Address.PostalCode)
            </div>

            <div class="form-group">
                @Html.LabelFor(x => x.Email)
                @Html.TextBoxFor(x => x.Email,
                    new
                         {
                             @class = "form-control"
                         })
                @Html.ValidationMessageFor(x => x.Email)
            </div>

            <button class="btn btn-primary btn-lg mb-5" type="submit">
                Zapisz
            </button>

        }
    </div>

</div>




